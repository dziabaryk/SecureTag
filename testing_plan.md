# **План Тестирования: CRM-система с интегрированным AI-ассистентом**

## **1\. Объекты тестирования**

Объектами тестирования являются основные функциональные и нефункциональные модули системы, обеспечивающие выполнение бизнес-процессов.

| Модуль | Описание |
| :---- | :---- |
| **Клиентский модуль (Фронтенд)** | Пользовательский интерфейс, адаптивность, кроссбраузерность, навигация, валидация ввода данных. |
| **Ядро CRM** | Управление сделками (Deals), контактами (Clients), компаниями, ведение истории взаимодействий. |
| **Модуль Аутентификации и Ролей** | Регистрация, вход (2FA), управление правами доступа пользователей (ролями). |
| **Модуль AI-ассистента** | Обработка запросов на естественном языке, генерация персонализированных подсказок, контекстное обучение, качество и релевантность ответов. |
| **Модуль Отчетов и Аналитики** | Формирование отчетов по воронке продаж, ключевым метрикам (KPI), экспорт данных. |
| **API Бэкенда** | Корректность обработки запросов, скорость ответа, валидация данных на стороне сервера, работа с PostgreSQL. |

## **2\. Подход к тестированию**

| Аспект | Описание |
| :---- | :---- |
| **Тип тестирования** | **Гибридный подход:** Применяется **Ручное тестирование** для проверки удобства использования (UX), визуального оформления и, самое главное, для оценки качества и логики ответов AI-ассистента (так как это требует человеческой оценки). **Автоматизированное тестирование** используется для проверки критического пути, API-интерфейсов и регрессионного тестирования. |
| **Техника тестирования** | Преимущественно используется **Тестирование "черного ящика" (Black Box)**, при котором тестировщик не имеет доступа к исходному коду, но имеет доступ к пользовательскому интерфейсу и API. Тестирование "белого ящика" (White Box) применяется разработчиками для юнит-тестирования ядра CRM и логики AI-сервиса. |

## **3\. Критерии начала и окончания тестирования**

### **Критерии начала тестирования (Start Criteria)**

1. Все критические модули (аутентификация, создание клиента, AI-запуск) развернуты на тестовом стенде.  
2. Выполнено 100% юнит-тестирования основных компонентов Бэкенда.  
3. Уровень дефектов (багов) в предыдущей сборке не превышает 5% от общего числа.  
4. Созданы и настроены все тестовые данные для основных сценариев (клиенты, сделки, пользователи).

### **Критерии окончания тестирования (Exit Criteria)**

1. Все запланированные тестовые сценарии (тест-кейсы) выполнены (Статус **Pass**).  
2. Уровень критических (Priority 1 \- Blocker) и высоких (Priority 2 \- Critical) дефектов равен **0**.  
3. Показатель покрытия кода тестами (Code Coverage) достигает не менее 80% для бэкенда.  
4. Пройдено нагрузочное тестирование с результатом, соответствующим нефункциональным требованиям ТЗ.

## **4\. Перечень тестовых сценариев (Тест-кейсов)**

### **Тест-кейс 1: Активация AI-ассистента и получение первой подсказки (Use Case)**

| Параметр | Значение |
| :---- | :---- |
| **ID** | TC-AI-001 |
| **Наименование** | Проверка контекстной активации AI-ассистента при создании новой сделки. |
| **Предусловия** | Пользователь авторизован; Модуль AI-сервиса запущен и доступен по API; Создана тестовая сделка с пустыми полями. |
| **Шаги для выполнения** | 1\. Открыть интерфейс создания новой сделки. 2\. Оставить обязательное поле "Сумма сделки" пустым. 3\. Нажать кнопку "Сохранить". 4\. Дождаться появления уведомления от AI-ассистента. |
| **Ожидаемый результат** | 1\. Система не позволяет сохранить сделку, отображая стандартное сообщение об ошибке. 2\. **Дополнительно:** AI-ассистент активируется и выдает персонализированную подсказку вида: "Не забудьте заполнить поле 'Сумма сделки'. Сделки с указанной суммой закрываются на 15% быстрее." |
| **Фактический результат** |  |
| **Статус (Pass/Fail)** |  |

### **Тест-кейс 2: Критический путь — Создание клиента и привязка к сделке**

| Параметр | Значение |
| :---- | :---- |
| **ID** | TC-CRM-005 |
| **Наименование** | Проверка создания нового клиента и его привязки к новой сделке. |
| **Предусловия** | Пользователь с ролью "Менеджер" авторизован; Отсутствует клиент с email: test\_client@example.com. |
| **Шаги для выполнения** | 1\. Перейти в раздел "Клиенты". 2\. Нажать "Добавить клиента" и ввести данные. 3\. Сохранить. 4\. Перейти в раздел "Сделки" и нажать "Создать сделку". 5\. В поле "Клиент" выбрать только что созданного тестового клиента. 6\. Сохранить сделку. |
| **Ожидаемый результат** | 1\. Новый клиент успешно создан и отображается в списке. 2\. Сделка успешно создана и в ее карточке отображается корректная ссылка на клиента. 3\. Оба действия отражены в журнале аудита с указанием user\_id и timestamp. |
| **Фактический результат** |  |
| **Статус (Pass/Fail)** |  |

### **Тест-кейс 3: Проверка качества ответа и контекстной зрелости AI-ассистента**

| Параметр | Значение |
| :---- | :---- |
| **ID** | TC-AI-010 |
| **Наименование** | Валидация логической и контекстной "зрелости" (Maturity) ответов AI на метафорические запросы. |
| **Предусловия** | Модуль AI-сервиса запущен; Пользователь находится в разделе "Отчеты/Аналитика". |
| **Шаги для выполнения** | 1\. Открыть диалоговое окно AI-ассистента. 2\. Задать вопрос: "Оцените мою текущую воронку продаж по шкале зрелости тропических фруктов." 3\. Повторить запрос с небольшим изменением контекста: "Какой фрукт я больше всего напоминаю, если я плохо настроил сегментацию?" |
| **Ожидаемый результат** | Ассистент должен вернуть контекстно-зависимый, вежливый и логически обоснованный ответ, демонстрирующий понимание **контекста "зрелости"** (например, "Ваша воронка находится на уровне спелого, но не перезревшего ананаса – готова к сбору, но требует дальнейшего развития" или "Вы напоминаете незрелый банан – имеет потенциал, но требует времени и правильной обработки (сегментации) для раскрытия вкуса"). Ответ должен быть полезным, а не техническим. |
| **Фактический результат** |  |
| **Статус (Pass/Fail)** |  |

## **5\. Требования к окружению**

| Параметр | Значение |
| :---- | :---- |
| **Операционная система (КФА)** | Windows 10/11, macOS (последняя версия). |
| **Браузеры (КФА)** | Google Chrome (последняя версия), Mozilla Firefox (последняя версия), Microsoft Edge (последняя версия). |
| **Разрешение экрана** | Тестирование адаптивности на разрешениях от 375px (мобильный портрет) до 1920px (десктоп). |
| **Бэкенд** | Python (3.10+), Django (последняя стабильная версия). |
| **База данных** | PostgreSQL (v14+), запущенный в Docker-контейнере или на тестовом сервере. |
| **Доступ к сети** | Стабильное соединение с Интернетом для взаимодействия с API и AI-сервисом. |
| **Инструменты** | Postman или Swagger для тестирования API (Black Box). |

